$(window).on('load',function(){var day=true;if(localStorage.getItem('day')=='false'){var circle=$('.toggle-dark-mode .circle-toggle');day=(localStorage.getItem('day')=='true')?true:false;circle.animate({'left':'40px'});circle.css({'background-color':'#5e4a7d'});applyNight();}
$('.toggle-dark-mode').click(function(){var circle=$(this).find('.circle-toggle');if(day){day=false;circle.animate({'left':'40px'});circle.css({'background-color':'#5e4a7d'});applyNight();}else{day=true;circle.animate({'left':'0'});circle.css({'background-color':'#a996c7'});applyDay();}
localStorage.setItem('day',day);})
function applyDay(){$('.header-mobile').css({'background-color':'#5e3ea1'});$('.btn-anotacoes-aula').css({'background-color':'#5e3ea1'});if($('.header-mobile').is(':hidden')){$('header').css({'background-color':'#5e3ea1'});}else{$('header').css({'background-color':'#4c3282'});}
$('.header-membro').css({'background-color':'#4c3282'});$('.aula-main').css({'background-color':'white'});$('.texto-descricao-aula p,.links-uteis h2,.pergunta-aluno p').css({'color':'#646464'});$('.duvidas h2').css({'color':'#646464'});$('.links-uteis a').css({'color':'#5e3ea1'});$('.aulas-sidebar').css({'background-color':'#333'});}
function applyNight(){$('.btn-anotacoes-aula').css({'background-color':'#333'});$('.header-mobile').css({'background-color':'#212121'});$('.header-membro').css({'background-color':'rgb(24,24,24)'});$('.aula-main').css({'background-color':'rgb(25,25,25)'});$('.texto-descricao-aula p,.links-uteis h2,.pergunta-aluno p').css({'color':'white'});$('.duvidas h2').css({'color':'white'});$('.links-uteis a').css({'color':'white'});$('header').css({'background-color':'rgb(26,26,26)'});$('.aulas-sidebar').css({'background-color':'rgb(24,24,24)'});}
$('.modulo-single h2').click(function(){var aulas=$(this).next();if(aulas.is(':visible')){aulas.hide();$(this).find('i').removeClass('fa fa-caret-down');$(this).find('i').addClass('fa fa-caret-up');}else{aulas.show();$(this).find('i').removeClass('fa fa-caret-up');$(this).find('i').addClass('fa fa-caret-down');}})
var anotacoes="";setInterval(function(){var atualAnotacoes=$('.box-anotacoes textarea').val();if(atualAnotacoes!=anotacoes){anotacoes=atualAnotacoes;$.ajax({method:'post',data:{anotacao:anotacoes,aula_id:$('.box-anotacoes textarea').attr('aula_id')},url:include_path+'ajax/anotacoes.php',}).done(function(data){})}else{}},5000)
$('.btn-anotacoes-aula').click(function(){$('.box-anotacoes').fadeIn();})
$('.btn-close-anotacoes').click(function(){$('.box-anotacoes').fadeOut();})
$('[resetBtn]').click(function(){var confirm=window.confirm("Tem certeza que deseja resetar seu progresso?");if(confirm)
return true;else
return false;})
$('.hide-aulas').click(function(){if($('.aulas-sidebar').is(':visible')){$('.aulas-sidebar').hide();$('.aula-main').css('width','100%');}else{var windowSize=$(window)[0].innerWidth;if(windowSize>1280){$('.aulas-sidebar').show();$('.aula-main').css('width','80%');}else{$('.aulas-sidebar').show();$('.aula-main').css('width','75%');}}})
$('.aulas-sidebar').mCustomScrollbar({mouseWheelPixels:200,callbacks:{onUpdate:function(){$('.aulas-sidebar').mCustomScrollbar('scrollTo',$('[targetaulascroll]'),{scrollInertia:0});}}});checkDuvidaTarget();function checkDuvidaTarget(){if($('[targetduvida]').length>0){var off=$('[targetduvida]').offset().top;$('body,html').animate({'scrollTop':off},1000,function(){});}}
insertCode();function insertCode(){$('.form-duvida input[type=button]').click(function(){var textarea=$('.form-duvida').find('textarea');if(textarea.val()=='')
textarea.val(textarea.val()+'`'+'\n//Substitua pelo seu código! (Mantenha as aspas acima e abaixo para a formatação ficar correta)\n'+'`');else
textarea.val(textarea.val()+'\n`'+'\n//Substitua pelo seu código! (Mantenha as aspas acima e abaixo para a formatação ficar correta)\n'+'`');})}
$('pre code').each(function(i,block){hljs.highlightBlock(block);});adjust();$('footer').hide();function adjust(){if($('.aulas-sidebar').is(':visible')){var newWidth=$(window)[0].innerWidth;if(newWidth>768){if($(document).scrollTop()>=$('.aula-flex').offset().top){initSideBar('begin');}else{initSideBar('relative');}}else{resetSideBar();}}}
function initSideBar(pos){if(pos=='relative'){$('.aulas-sidebar').css('top',$('.aula-flex').offset().top-$(document).scrollTop()).css('height',$(window).height()-$('.aula-flex').offset().top+$(document).scrollTop()+1).css('position','static');$('.aula-main').css('left','0');}else if(pos=='begin'){$('.aulas-sidebar').css('top','0').css('height',$(window).height()+1).css('position','fixed');if($(window)[0].innerWidth<=1280){$('.aula-main').css('left','25%');}
else{$('.aula-main').css('left','20%');}}}
function resetSideBar(){$('.aulas-sidebar').css('top','0').css('height','auto').css('position','static');$('.aula-main').css('left','0%');}
$(window).scroll(function(){adjust();});$(window).resize(function(){adjust();})
var callback=false;var iframe=document.querySelector('iframe');var player=new Vimeo.Player(iframe);var observerDom=function(target){MutationObserver=window.MutationObserver||window.WebKitMutationObserver;var observer=new MutationObserver(function(mutations,observer){if(mutations[0].attributeName=='src'){window.location.href='/';}});observer.observe(target,{subtree:true,attributes:true});}
player.ready().then(function(){observerDom(iframe);});if($('dontgotonext').size()==0){player.on('ended',function(){if(callback===false){callback=true;sendAulaConcluida();}});}
function sendAulaConcluida(){var aula_id=$('.btns a').attr('aula_id');if(aula_id!==undefined){$.ajax({dataType:'json',url:include_path+'ajax/aulaconcluida.php',method:'post',data:{'aula_id':aula_id}}).done(function(data){if(data.error===undefined){setTimeout(function(){location.href=data.link;},5000)}else{console.log(data.error);}})}}
var hasSearch=false;var last="";setInterval(function(){var pesquisar=$('input[name=pesquisa_aula]').val().toLowerCase();if(pesquisar==''){if(hasSearch){hasSearch=false;$('.modulo-single').show();$('.modulo-single a').show();$('.aulas-sidebar').mCustomScrollbar("scrollTo",$('[targetaulascroll]'),{scrollInertia:0});}}else{if(last==pesquisar)
return;last=pesquisar;hasSearch=true;$('.modulo-single').hide();$('.modulo-single a').hide();var found=false;$('.modulo-single a').each(function(){var nomeAula=$(this).html().toLowerCase();var nomeModulo=$(this).parent().parent().find('h2').find('span').html().toLowerCase();if(nomeAula.search(pesquisar)!='-1'||nomeModulo.search(pesquisar)!='-1'){$(this).parent().parent().show();$(this).show();found=true;}});if(found){}}},1000);})